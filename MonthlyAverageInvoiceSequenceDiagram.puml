@startuml MonthlyAverageInvoiceSequence
actor "User" as User
boundary "PrimaryController (B)" as Boundary
control "MonthlyAverageInvoiceUseCase (C)" as Control
database "InvoiceDAO" as DAO

User -> Boundary : chọn tháng/năm cần tính trung bình
activate Boundary
Boundary -> Control : getMonthlyAverage(month, year)
activate Control
Control -> DAO : getAll()
activate DAO
DAO --> Control : List<InvoiceDTO>
deactivate DAO
Control -> Control : lọc hóa đơn theo tháng/năm, tính tổng và đếm
Control -> Control : tính trung bình (total/count)
Control --> Boundary : double (giá trị trung bình)
deactivate Control
Boundary --> User : hiển thị kết quả trung bình
deactivate Boundary
@enduml
